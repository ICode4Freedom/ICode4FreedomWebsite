---
// Share button
interface Props {
  title: string;
  url?: string;
}

const { title, url } = Astro.props;
---

<button class="share-btn" data-title={title} data-url={url || ''}>
  Share
</button>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.querySelector('.share-btn');
    if (!btn) return;
    
    btn.addEventListener('click', () => {
      const title = btn.getAttribute('data-title') || document.title;
      const url = btn.getAttribute('data-url') || window.location.href;
      const tweetUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`;
      window.open(tweetUrl, '_blank', 'width=550,height=420');
    });
  });
</script>

<style>
  .share-btn {
    padding: 0.35rem 0.75rem;
    background: transparent;
    border: 1px solid var(--fg-d);
    color: var(--fg);
    font-family: var(--font-mono);
    font-size: 0.8rem;
    cursor: pointer;
  }
  
  .share-btn:hover {
    border-color: var(--fg);
  }
</style>

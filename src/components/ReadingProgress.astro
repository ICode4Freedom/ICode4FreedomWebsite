---
// Reading progress bar component - shows scroll progress at top of page
---

<div class="reading-progress-container">
  <div class="reading-progress-bar" id="reading-progress"></div>
  <span class="progress-label">loading...</span>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const progressBar = document.getElementById('reading-progress');
    const progressLabel = document.querySelector('.progress-label');
    
    if (!progressBar || !progressLabel) return;
    
    function updateProgress() {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = Math.min((scrollTop / docHeight) * 100, 100);
      
      progressBar.style.width = `${progress}%`;
      progressLabel.textContent = `${Math.round(progress)}%`;
    }
    
    window.addEventListener('scroll', updateProgress, { passive: true });
    updateProgress(); // Initialize on load
  });
</script>

<style>
  .reading-progress-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: var(--ui-bg);
    z-index: 10000;
    display: flex;
    align-items: center;
  }
  
  .reading-progress-bar {
    height: 100%;
    width: 0%;
    background: var(--terminal-green);
    transition: width 0.1s ease-out;
    box-shadow: 0 0 8px var(--terminal-green);
  }
  
  .progress-label {
    position: absolute;
    right: 8px;
    top: 6px;
    font-family: var(--font-mono);
    font-size: 0.65rem;
    color: var(--terminal-green);
    opacity: 0.8;
  }
  
  [data-theme="light"] .reading-progress-bar {
    box-shadow: 0 0 4px var(--terminal-green);
  }
</style>
